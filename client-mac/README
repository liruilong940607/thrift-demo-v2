# 配置

## python3.6 + opencv3 

```
pip install thrift
pip install opencv-python
pip install pyqt5
```

修改 /Users/dalong/env-p3.6/lib/python3.6/site-packages/thrift/compat.py 对应的python3的函数如下。

```
    def binary_to_str(bin_val):
        try: #add
            return bin_val.decode('utf8')
        except: #add
            return bin_val #add

    def str_to_binary(str_val):
        if type(str_val)==type(b'str'): #add
            return str_val #add
        return bytes(str_val, 'utf8')

```

## windows pyinstaller 编译 exe

``` python 3.5
pip install pyinstaller
pyinstaller --paths C:\Users\dalong\AppData\Local\Programs\Python\Python35\Lib\site-packages\PyQt5\Qt\bin -F -w pyqtPlayer.py
```

参数	含义
-F	指定打包后只生成一个exe格式的文件
-D	–onedir 创建一个目录，包含exe文件，但会依赖很多文件（默认选项）
-c	–console, –nowindowed 使用控制台，无界面(默认)
-w	–windowed, –noconsole 使用窗口，无控制台
-p	添加搜索路径，让其找到对应的库。
-i	改变生成程序的icon图标

eg

pyinstaller.py -F -p C:\python27; ..\demo.py  #注意当前目录是我在下一级目录里


## codec 在mac上的配置

## libav

版本（release/9） ：https://github.com/libav/libav/tree/release/9

./configure --enable-gpl --enable-shared --disable-static --disable-doc --disable-avconv --disable-avplay --disable-avprobe --disable-avserver --enable-libx264 --disable-debug --prefix=/Users/dalong/3rd-Party/libav/install_prefix

Ref：http://blog.csdn.net/wangpingfang/article/details/8133622

## boost python2

brew install boost-python

## boost python3

[Error] can't find 'Python.h' ==>
export CPLUS_INCLUDE_PATH="$CPLUS_INCLUDE_PATH:/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/include/python3.6m/"

./bootstrap.sh --with-python=/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/bin/python --with-python-root=/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6 --prefix=/Users/dalong/3rd-Party/boost/boost_1_62_0/install_prefix

## 'import codec' error

export DYLD_LIBRARY_PATH=/Users/dalong/3rd-Party/opencv/opencv2-py2.7/lib:/Users/dalong/3rd-Party/boost/boost_1_62_0/install_prefix/lib

注： 最终用的python2来编译codec，由于python3的str unicode编码不识别问题暂未解决。

